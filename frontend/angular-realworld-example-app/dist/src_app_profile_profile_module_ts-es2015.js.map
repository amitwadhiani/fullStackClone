{"version":3,"sources":["./src/app/profile/profile-articles.component.ts","./src/app/profile/profile-articles.component.html","./src/app/profile/profile-favorites.component.ts","./src/app/profile/profile-favorites.component.html","./src/app/profile/profile-resolver.service.ts","./src/app/profile/profile-routing.module.ts","./src/app/profile/profile.component.ts","./src/app/profile/profile.component.html","./src/app/profile/profile.module.ts"],"names":[],"mappings":"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","file":"src_app_profile_profile_module_ts-es2015.js","sourcesContent":["import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { ArticleListConfig, Profile } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-profile-articles',\r\n  templateUrl: './profile-articles.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ProfileArticlesComponent implements OnInit {\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private cd: ChangeDetectorRef\r\n  ) {}\r\n\r\n  profile: Profile;\r\n  articlesConfig: ArticleListConfig = {\r\n    type: 'all',\r\n    filters: {}\r\n  };\r\n\r\n  ngOnInit() {\r\n    this.route.parent.data.subscribe(\r\n      (data: {profile: Profile}) => {\r\n        this.profile = data.profile;\r\n        this.articlesConfig = {\r\n          type: 'all',\r\n          filters: {}\r\n        }; // Only method I found to refresh article load on swap\r\n        this.articlesConfig.filters.author = this.profile.username;\r\n        this.cd.markForCheck();\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<app-article-list [limit]=\"10\" [config]=\"articlesConfig\">\r\n</app-article-list>\r\n","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { ArticleListConfig, Profile } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-profile-favorites',\r\n  templateUrl: './profile-favorites.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ProfileFavoritesComponent implements OnInit {\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private cd: ChangeDetectorRef\r\n  ) {}\r\n\r\n  profile: Profile;\r\n  favoritesConfig: ArticleListConfig = {\r\n    type: 'all',\r\n    filters: {}\r\n  };\r\n\r\n  ngOnInit() {\r\n    this.route.parent.data.subscribe(\r\n      (data: {profile: Profile}) => {\r\n        this.profile = data.profile;\r\n        this.favoritesConfig = {...this.favoritesConfig};\r\n        this.favoritesConfig.filters.favorited = this.profile.username;\r\n        this.cd.markForCheck();\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<app-article-list [limit]=\"10\" [config]=\"favoritesConfig\">\r\n</app-article-list>\r\n","import { Injectable, } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Resolve, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { Profile, ProfilesService } from '../core';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProfileResolver implements Resolve<Profile> {\r\n  constructor(\r\n    private profilesService: ProfilesService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  resolve(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): Observable<any> {\r\n\r\n    return this.profilesService.get(route.params['username'])\r\n      .pipe(catchError((err) => this.router.navigateByUrl('/')));\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ProfileArticlesComponent } from './profile-articles.component';\r\nimport { ProfileFavoritesComponent } from './profile-favorites.component';\r\nimport { ProfileResolver } from './profile-resolver.service';\r\nimport { ProfileComponent } from './profile.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: ':username',\r\n    component: ProfileComponent,\r\n    resolve: {\r\n      profile: ProfileResolver\r\n    },\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: ProfileArticlesComponent\r\n      },\r\n      {\r\n        path: 'favorites',\r\n        component: ProfileFavoritesComponent\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ProfileRoutingModule {}\r\n","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\nimport { User, UserService, Profile } from '../core';\r\nimport { concatMap ,  tap } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-profile-page',\r\n  templateUrl: './profile.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private userService: UserService,\r\n    private cd: ChangeDetectorRef\r\n  ) { }\r\n\r\n  profile: Profile;\r\n  currentUser: User;\r\n  isUser: boolean;\r\n\r\n  ngOnInit() {\r\n    this.route.data.pipe(\r\n      concatMap((data: { profile: Profile }) => {\r\n        this.profile = data.profile;\r\n        // Load the current user's data.\r\n        return this.userService.currentUser.pipe(tap(\r\n          (userData: User) => {\r\n            this.currentUser = userData;\r\n            this.isUser = (this.currentUser.username === this.profile.username);\r\n          }\r\n        ));\r\n      })\r\n    ).subscribe((() => {\r\n      this.cd.markForCheck();\r\n    }));\r\n  }\r\n\r\n  onToggleFollowing(following: boolean) {\r\n    this.profile.following = following;\r\n  }\r\n\r\n}\r\n","<div class=\"profile-page\">\r\n\r\n  <div class=\"user-info\">\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n\r\n        <div class=\"col-xs-12 col-md-10 offset-md-1\">\r\n          <img [src]=\"profile.image || 'https://static.productionready.io/images/smiley-cyrus.jpg'\" alt=\"user image\" class=\"user-img\" />\r\n          <h4>{{ profile.username }}</h4>\r\n          <p>{{ profile.bio }}</p>\r\n          <app-follow-button\r\n            [hidden]=\"isUser\"\r\n            [profile]=\"profile\"\r\n            (toggle)=\"onToggleFollowing($event)\">\r\n          </app-follow-button>\r\n           <a [routerLink]=\"['/settings']\"\r\n              [hidden]=\"!isUser\"\r\n              class=\"btn btn-sm btn-outline-secondary action-btn\">\r\n              <i class=\"ion-gear-a\"></i> Edit Profile Settings\r\n            </a>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n\r\n      <div class=\"col-xs-12 col-md-10 offset-md-1\">\r\n        <div class=\"articles-toggle\">\r\n          <ul class=\"nav nav-pills outline-active\">\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\"\r\n                 routerLinkActive=\"active\"\r\n                 [routerLinkActiveOptions]=\"{ exact: true }\"\r\n                 [routerLink]=\"['/profile', profile.username]\">\r\n                 My Posts\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\"\r\n                 routerLinkActive=\"active\"\r\n                 [routerLinkActiveOptions]=\"{ exact: true }\"\r\n                 [routerLink]=\"['/profile', profile.username, 'favorites']\">\r\n                 Favorited Posts\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <router-outlet></router-outlet>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { ProfileArticlesComponent } from './profile-articles.component';\r\nimport { ProfileComponent } from './profile.component';\r\nimport { ProfileFavoritesComponent } from './profile-favorites.component';\r\nimport { SharedModule } from '../shared';\r\nimport { ProfileRoutingModule } from './profile-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    ProfileRoutingModule\r\n  ],\r\n  declarations: [\r\n    ProfileArticlesComponent,\r\n    ProfileComponent,\r\n    ProfileFavoritesComponent\r\n  ],\r\n  providers: [\r\n  ]\r\n})\r\nexport class ProfileModule {}\r\n"],"sourceRoot":"webpack:///"}