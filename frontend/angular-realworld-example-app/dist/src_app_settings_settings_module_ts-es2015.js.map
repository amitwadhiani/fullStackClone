{"version":3,"sources":["./src/app/settings/settings-routing.module.ts","./src/app/settings/settings.component.ts","./src/app/settings/settings.component.html","./src/app/settings/settings.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AACuD;AACnB;AACqB;;;AAEzD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kEAAiB;QAC5B,WAAW,EAAE,CAAC,4CAAS,CAAC;KACzB;CACF,CAAC;AAMK,MAAM,qBAAqB;;0FAArB,qBAAqB;kHAArB,qBAAqB;sHAHvB,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC,EAC9B,yDAAY;mIAEX,qBAAqB,oFAFtB,yDAAY;;;;;;;;;;;;;;;;;;;;;;;;;;ACJjB,MAAM,iBAAiB;IAM5B,YACU,MAAc,EACd,WAAwB,EACxB,EAAe,EACf,EAAqB;QAHrB,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,OAAE,GAAF,EAAE,CAAa;QACf,OAAE,GAAF,EAAE,CAAmB;QAT/B,SAAI,GAAS,EAAU,CAAC;QAExB,WAAM,GAAW,EAAE,CAAC;QACpB,iBAAY,GAAG,KAAK,CAAC;QAQnB,2CAA2C;QAC3C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAChC,KAAK,EAAE,EAAE;YACT,QAAQ,EAAE,EAAE;YACZ,GAAG,EAAE,EAAE;YACP,KAAK,EAAE,EAAE;YACT,QAAQ,EAAE,EAAE;SACb,CAAC,CAAC;QACH,6CAA6C;QAC7C,+EAA+E;IACjF,CAAC;IAED,QAAQ;QACN,kFAAkF;QAClF,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,CAAC;QAC5D,gBAAgB;QAChB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1C,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;QAC7B,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;IACjC,CAAC;IAED,UAAU;QACR,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAEzB,mBAAmB;QACnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QAEzC,IAAI,CAAC,WAAW;aACf,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;aACjB,SAAS,CACR,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,WAAW,GAAG,WAAW,CAAC,QAAQ,CAAC,EAC5E,GAAG,CAAC,EAAE;YACJ,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;YAClB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC1B,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;QACzB,CAAC,CACF,CAAC;IACJ,CAAC;IAED,UAAU,CAAC,MAAc;QACvB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IACnC,CAAC;;kFAxDU,iBAAiB;+GAAjB,iBAAiB;QCX9B,yEAA2B;QACzB,yEAA4B;QAC1B,yEAAiB;QACf,yEAA4C;QAE1C,wEAA2B;QAAA,wEAAa;QAAA,4DAAK;QAE7C,gFAAqD;QAErD,0EAA2D;QAA1B,6IAAY,gBAAY,IAAC;QACxD,8EAAoC;QAElC,8EAA6B;QAC3B,uEAG4B;QAC9B,4DAAW;QAEX,+EAA6B;QAC3B,wEAG+B;QACjC,4DAAW;QAEX,+EAA6B;QAC3B,gFAGwB;QACxB;QAAA,4DAAW;QACb,4DAAW;QAEX,+EAA6B;QAC3B,wEAG4B;QAC9B,4DAAW;QAEX,+EAA6B;QAC3B,wEAG+B;QACjC,4DAAW;QAEX,8EACgB;QACd,6EACF;QAAA,4DAAS;QAEX,4DAAW;QACb,4DAAO;QAGP,iEAAM;QAEN,8EACqB;QAAnB,0IAAS,YAAQ,IAAC;QAClB,sFACF;QAAA,4DAAS;QAEX,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAM;;QA5DmB,0DAAiB;QAAjB,8EAAiB;QAE5B,0DAA0B;QAA1B,uFAA0B;QACpB,0DAAyB;QAAzB,sFAAyB;;;;;;;;;;;;;;;;;;;;;ACRY;AAChB;AACyB;;AAW3D,MAAM,cAAc;;4EAAd,cAAc;2GAAd,cAAc;+GARhB;YACP,iDAAY;YACZ,2EAAqB;SACtB;mIAKU,cAAc,mBAHvB,kEAAiB,aAJjB,iDAAY;QACZ,2EAAqB","file":"src_app_settings_settings_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from '../core';\r\nimport { SettingsComponent } from './settings.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SettingsComponent,\r\n    canActivate: [AuthGuard]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class SettingsRoutingModule {}\r\n","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { User, UserService } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-settings-page',\r\n  templateUrl: './settings.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class SettingsComponent implements OnInit {\r\n  user: User = {} as User;\r\n  settingsForm: FormGroup;\r\n  errors: Object = {};\r\n  isSubmitting = false;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private userService: UserService,\r\n    private fb: FormBuilder,\r\n    private cd: ChangeDetectorRef\r\n  ) {\r\n    // create form group using the form builder\r\n    this.settingsForm = this.fb.group({\r\n      image: '',\r\n      username: '',\r\n      bio: '',\r\n      email: '',\r\n      password: ''\r\n    });\r\n    // Optional: subscribe to changes on the form\r\n    // this.settingsForm.valueChanges.subscribe(values => this.updateUser(values));\r\n  }\r\n\r\n  ngOnInit() {\r\n    // Make a fresh copy of the current user's object to place in editable form fields\r\n    Object.assign(this.user, this.userService.getCurrentUser());\r\n    // Fill the form\r\n    this.settingsForm.patchValue(this.user);\r\n  }\r\n\r\n  logout() {\r\n    this.userService.purgeAuth();\r\n    this.router.navigateByUrl('/');\r\n  }\r\n\r\n  submitForm() {\r\n    this.isSubmitting = true;\r\n\r\n    // update the model\r\n    this.updateUser(this.settingsForm.value);\r\n\r\n    this.userService\r\n    .update(this.user)\r\n    .subscribe(\r\n      updatedUser => this.router.navigateByUrl('/profile/' + updatedUser.username),\r\n      err => {\r\n        this.errors = err;\r\n        this.isSubmitting = false;\r\n        this.cd.markForCheck();\r\n      }\r\n    );\r\n  }\r\n\r\n  updateUser(values: Object) {\r\n    Object.assign(this.user, values);\r\n  }\r\n\r\n}\r\n","<div class=\"settings-page\">\r\n  <div class=\"container page\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6 offset-md-3 col-xs-12\">\r\n\r\n        <h1 class=\"text-xs-center\">Your Settings</h1>\r\n\r\n        <app-list-errors [errors]=\"errors\"></app-list-errors>\r\n\r\n        <form [formGroup]=\"settingsForm\" (ngSubmit)=\"submitForm()\">\r\n          <fieldset [disabled]=\"isSubmitting\">\r\n\r\n            <fieldset class=\"form-group\">\r\n              <input class=\"form-control\"\r\n                type=\"text\"\r\n                placeholder=\"URL of profile picture\"\r\n                formControlName=\"image\" />\r\n            </fieldset>\r\n\r\n            <fieldset class=\"form-group\">\r\n              <input class=\"form-control form-control-lg\"\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                formControlName=\"username\" />\r\n            </fieldset>\r\n\r\n            <fieldset class=\"form-group\">\r\n              <textarea class=\"form-control form-control-lg\"\r\n                rows=\"8\"\r\n                placeholder=\"Short bio about you\"\r\n                formControlName=\"bio\">\r\n              </textarea>\r\n            </fieldset>\r\n\r\n            <fieldset class=\"form-group\">\r\n              <input class=\"form-control form-control-lg\"\r\n                type=\"email\"\r\n                placeholder=\"Email\"\r\n                formControlName=\"email\" />\r\n            </fieldset>\r\n\r\n            <fieldset class=\"form-group\">\r\n              <input class=\"form-control form-control-lg\"\r\n                type=\"password\"\r\n                placeholder=\"New Password\"\r\n                formControlName=\"password\" />\r\n            </fieldset>\r\n\r\n            <button class=\"btn btn-lg btn-primary pull-xs-right\"\r\n              type=\"submit\">\r\n              Update Settings\r\n            </button>\r\n\r\n          </fieldset>\r\n        </form>\r\n\r\n        <!-- Line break for logout button -->\r\n        <hr />\r\n\r\n        <button class=\"btn btn-outline-danger\"\r\n          (click)=\"logout()\">\r\n          Or click here to logout.\r\n        </button>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { SettingsComponent } from './settings.component';\r\nimport { SharedModule } from '../shared';\r\nimport { SettingsRoutingModule } from './settings-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    SettingsRoutingModule\r\n  ],\r\n  declarations: [\r\n    SettingsComponent\r\n  ]\r\n})\r\nexport class SettingsModule {}\r\n"],"sourceRoot":"webpack:///"}