{"version":3,"sources":["webpack:///src/app/profile/profile-articles.component.ts","webpack:///src/app/profile/profile-articles.component.html","webpack:///src/app/profile/profile-favorites.component.ts","webpack:///src/app/profile/profile-favorites.component.html","webpack:///src/app/profile/profile-resolver.service.ts","webpack:///src/app/profile/profile-routing.module.ts","webpack:///src/app/profile/profile.component.ts","webpack:///src/app/profile/profile.component.html","webpack:///src/app/profile/profile.module.ts"],"names":["ProfileArticlesComponent","route","router","cd","articlesConfig","type","filters","parent","data","subscribe","profile","author","username","markForCheck","ProfileFavoritesComponent","favoritesConfig","favorited","ProfileResolver","profilesService","state","get","params","pipe","catchError","err","navigateByUrl","routes","path","component","ProfileComponent","resolve","children","ProfileRoutingModule","RouterModule","userService","concatMap","currentUser","tap","userData","isUser","following","onToggleFollowing","ProfileModule","SharedModule"],"mappings":"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","file":"src_app_profile_profile_module_ts-es5.js","sourcesContent":["import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { ArticleListConfig, Profile } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-profile-articles',\r\n  templateUrl: './profile-articles.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ProfileArticlesComponent implements OnInit {\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private cd: ChangeDetectorRef\r\n  ) {}\r\n\r\n  profile: Profile;\r\n  articlesConfig: ArticleListConfig = {\r\n    type: 'all',\r\n    filters: {}\r\n  };\r\n\r\n  ngOnInit() {\r\n    this.route.parent.data.subscribe(\r\n      (data: {profile: Profile}) => {\r\n        this.profile = data.profile;\r\n        this.articlesConfig = {\r\n          type: 'all',\r\n          filters: {}\r\n        }; // Only method I found to refresh article load on swap\r\n        this.articlesConfig.filters.author = this.profile.username;\r\n        this.cd.markForCheck();\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<app-article-list [limit]=\"10\" [config]=\"articlesConfig\">\r\n</app-article-list>\r\n","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { ArticleListConfig, Profile } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-profile-favorites',\r\n  templateUrl: './profile-favorites.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ProfileFavoritesComponent implements OnInit {\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private cd: ChangeDetectorRef\r\n  ) {}\r\n\r\n  profile: Profile;\r\n  favoritesConfig: ArticleListConfig = {\r\n    type: 'all',\r\n    filters: {}\r\n  };\r\n\r\n  ngOnInit() {\r\n    this.route.parent.data.subscribe(\r\n      (data: {profile: Profile}) => {\r\n        this.profile = data.profile;\r\n        this.favoritesConfig = {...this.favoritesConfig};\r\n        this.favoritesConfig.filters.favorited = this.profile.username;\r\n        this.cd.markForCheck();\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<app-article-list [limit]=\"10\" [config]=\"favoritesConfig\">\r\n</app-article-list>\r\n","import { Injectable, } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Resolve, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { Profile, ProfilesService } from '../core';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProfileResolver implements Resolve<Profile> {\r\n  constructor(\r\n    private profilesService: ProfilesService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  resolve(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): Observable<any> {\r\n\r\n    return this.profilesService.get(route.params['username'])\r\n      .pipe(catchError((err) => this.router.navigateByUrl('/')));\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ProfileArticlesComponent } from './profile-articles.component';\r\nimport { ProfileFavoritesComponent } from './profile-favorites.component';\r\nimport { ProfileResolver } from './profile-resolver.service';\r\nimport { ProfileComponent } from './profile.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: ':username',\r\n    component: ProfileComponent,\r\n    resolve: {\r\n      profile: ProfileResolver\r\n    },\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: ProfileArticlesComponent\r\n      },\r\n      {\r\n        path: 'favorites',\r\n        component: ProfileFavoritesComponent\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ProfileRoutingModule {}\r\n","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\nimport { User, UserService, Profile } from '../core';\r\nimport { concatMap ,  tap } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-profile-page',\r\n  templateUrl: './profile.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private userService: UserService,\r\n    private cd: ChangeDetectorRef\r\n  ) { }\r\n\r\n  profile: Profile;\r\n  currentUser: User;\r\n  isUser: boolean;\r\n\r\n  ngOnInit() {\r\n    this.route.data.pipe(\r\n      concatMap((data: { profile: Profile }) => {\r\n        this.profile = data.profile;\r\n        // Load the current user's data.\r\n        return this.userService.currentUser.pipe(tap(\r\n          (userData: User) => {\r\n            this.currentUser = userData;\r\n            this.isUser = (this.currentUser.username === this.profile.username);\r\n          }\r\n        ));\r\n      })\r\n    ).subscribe((() => {\r\n      this.cd.markForCheck();\r\n    }));\r\n  }\r\n\r\n  onToggleFollowing(following: boolean) {\r\n    this.profile.following = following;\r\n  }\r\n\r\n}\r\n","<div class=\"profile-page\">\r\n\r\n  <div class=\"user-info\">\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n\r\n        <div class=\"col-xs-12 col-md-10 offset-md-1\">\r\n          <img [src]=\"profile.image || 'https://static.productionready.io/images/smiley-cyrus.jpg'\" alt=\"user image\" class=\"user-img\" />\r\n          <h4>{{ profile.username }}</h4>\r\n          <p>{{ profile.bio }}</p>\r\n          <app-follow-button\r\n            [hidden]=\"isUser\"\r\n            [profile]=\"profile\"\r\n            (toggle)=\"onToggleFollowing($event)\">\r\n          </app-follow-button>\r\n           <a [routerLink]=\"['/settings']\"\r\n              [hidden]=\"!isUser\"\r\n              class=\"btn btn-sm btn-outline-secondary action-btn\">\r\n              <i class=\"ion-gear-a\"></i> Edit Profile Settings\r\n            </a>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n\r\n      <div class=\"col-xs-12 col-md-10 offset-md-1\">\r\n        <div class=\"articles-toggle\">\r\n          <ul class=\"nav nav-pills outline-active\">\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\"\r\n                 routerLinkActive=\"active\"\r\n                 [routerLinkActiveOptions]=\"{ exact: true }\"\r\n                 [routerLink]=\"['/profile', profile.username]\">\r\n                 My Posts\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\"\r\n                 routerLinkActive=\"active\"\r\n                 [routerLinkActiveOptions]=\"{ exact: true }\"\r\n                 [routerLink]=\"['/profile', profile.username, 'favorites']\">\r\n                 Favorited Posts\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <router-outlet></router-outlet>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { ProfileArticlesComponent } from './profile-articles.component';\r\nimport { ProfileComponent } from './profile.component';\r\nimport { ProfileFavoritesComponent } from './profile-favorites.component';\r\nimport { SharedModule } from '../shared';\r\nimport { ProfileRoutingModule } from './profile-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    ProfileRoutingModule\r\n  ],\r\n  declarations: [\r\n    ProfileArticlesComponent,\r\n    ProfileComponent,\r\n    ProfileFavoritesComponent\r\n  ],\r\n  providers: [\r\n  ]\r\n})\r\nexport class ProfileModule {}\r\n"]}