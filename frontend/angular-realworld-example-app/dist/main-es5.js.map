{"version":3,"sources":["webpack:///$_lazy_route_resources|lazy|groupOptions: {}|namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/auth/auth-routing.module.ts","webpack:///src/app/auth/auth.component.html","webpack:///src/app/auth/auth.component.ts","webpack:///src/app/auth/auth.module.ts","webpack:///src/app/auth/no-auth-guard.service.ts","webpack:///src/app/core/core.module.ts","webpack:///src/app/core/interceptors/http.token.interceptor.ts","webpack:///src/app/core/services/api.service.ts","webpack:///src/app/core/services/articles.service.ts","webpack:///src/app/core/services/auth-guard.service.ts","webpack:///src/app/core/services/comments.service.ts","webpack:///src/app/core/services/jwt.service.ts","webpack:///src/app/core/services/profiles.service.ts","webpack:///src/app/core/services/tags.service.ts","webpack:///src/app/core/services/user.service.ts","webpack:///src/app/home/home-auth-resolver.service.ts","webpack:///src/app/home/home-routing.module.ts","webpack:///src/app/home/home.component.html","webpack:///src/app/home/home.component.ts","webpack:///src/app/home/home.module.ts","webpack:///src/app/shared/article-helpers/article-list.component.html","webpack:///src/app/shared/article-helpers/article-list.component.ts","webpack:///src/app/shared/article-helpers/article-meta.component.ts","webpack:///src/app/shared/article-helpers/article-meta.component.html","webpack:///src/app/shared/article-helpers/article-preview.component.html","webpack:///src/app/shared/article-helpers/article-preview.component.ts","webpack:///src/app/shared/buttons/favorite-button.component.ts","webpack:///src/app/shared/buttons/favorite-button.component.html","webpack:///src/app/shared/buttons/follow-button.component.ts","webpack:///src/app/shared/buttons/follow-button.component.html","webpack:///src/app/shared/layout/footer.component.ts","webpack:///src/app/shared/layout/footer.component.html","webpack:///src/app/shared/layout/header.component.html","webpack:///src/app/shared/layout/header.component.ts","webpack:///src/app/shared/list-errors.component.html","webpack:///src/app/shared/list-errors.component.ts","webpack:///src/app/shared/shared.module.ts","webpack:///src/app/shared/show-authed.directive.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","id","module","exports","routes","path","loadChildren","m","SettingsModule","ProfileModule","EditorModule","ArticleModule","AppRoutingModule","QuicklinkModule","RouterModule","preloadingStrategy","QuicklinkStrategy","relativeLinkResolution","AppComponent","userService","populate","AppModule","BrowserModule","CoreModule","SharedModule","HomeModule","AuthModule","ServiceWorkerModule","enabled","environment","FooterComponent","HeaderComponent","component","AuthComponent","canActivate","NoAuthGuard","AuthRoutingModule","route","router","fb","cd","authType","title","errors","isSubmitting","authForm","group","Validators","url","subscribe","data","length","addControl","FormControl","markForCheck","credentials","value","attemptAuth","navigateByUrl","err","submitForm","state","isAuthenticated","pipe","take","map","isAuth","provide","HTTP_INTERCEPTORS","useClass","HttpTokenInterceptor","multi","CommonModule","jwtService","next","headersConfig","token","getToken","request","clone","setHeaders","handle","ApiService","http","error","throwError","params","HttpParams","get","catchError","formatErrors","body","put","JSON","stringify","post","ArticlesService","apiService","config","Object","filters","forEach","key","type","fromObject","slug","article","AuthGuard","CommentsService","payload","comment","comments","commentId","articleSlug","JwtService","window","localStorage","removeItem","ProfilesService","username","profile","TagsService","tags","UserService","currentUserSubject","BehaviorSubject","currentUser","asObservable","distinctUntilChanged","isAuthenticatedSubject","ReplaySubject","setAuth","user","purgeAuth","saveToken","destroyToken","HomeAuthResolver","HomeComponent","HomeRoutingModule","tagsService","listConfig","tagsLoaded","authenticated","setListTo","getAll","index","item","ArticleListComponent","articlesService","loading","currentPage","totalPages","query","runQuery","pageNumber","results","limit","offset","articles","Array","from","Math","ceil","articlesCount","val","ArticleMetaComponent","ArticlePreviewComponent","favorited","onToggleFavorite","FavoriteButtonComponent","toggle","EventEmitter","concatMap","of","favorite","tap","emit","unfavorite","toggleFavorite","FollowButtonComponent","profilesService","following","follow","unfollow","toggleFollowing","today","Date","now","userData","ListErrorsComponent","formattedErrors","errorList","FormsModule","ReactiveFormsModule","HttpClientModule","ShowAuthedDirective","templateRef","viewContainer","condition","createEmbeddedView","clear","production","api_url","enableProdMode","bootstrapPromise","platformBrowser","bootstrapModule","success","console","log"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 8255;\nmodule.exports = webpackEmptyAsyncContext;","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { QuicklinkModule, QuicklinkStrategy } from 'ngx-quicklink';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'settings',\r\n    loadChildren: () => import('./settings/settings.module').then(m => m.SettingsModule)\r\n  },\r\n  {\r\n    path: 'profile',\r\n    loadChildren: () => import('./profile/profile.module').then(m => m.ProfileModule)\r\n  },\r\n  {\r\n    path: 'editor',\r\n    loadChildren: () => import('./editor/editor.module').then(m => m.EditorModule)\r\n  },\r\n  {\r\n    path: 'article',\r\n    loadChildren: () => import('./article/article.module').then(m => m.ArticleModule)\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    QuicklinkModule,\r\n    RouterModule.forRoot(routes, {\r\n    // preload all modules; optionally we could\r\n    // implement a custom preloading strategy for just some\r\n    // of the modules (PRs welcome 😉)\r\n    preloadingStrategy: QuicklinkStrategy,\r\n    relativeLinkResolution: 'legacy'\r\n})],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {}\r\n","import { Component, OnInit, ChangeDetectionStrategy } from '@angular/core';\r\n\r\nimport { UserService } from './core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class AppComponent implements OnInit {\r\n  constructor (\r\n    private userService: UserService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.userService.populate();\r\n  }\r\n}\r\n","<app-layout-header></app-layout-header>\r\n\r\n<router-outlet></router-outlet>\r\n\r\n<app-layout-footer></app-layout-footer>\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { AuthModule } from './auth/auth.module';\r\nimport { HomeModule } from './home/home.module';\r\nimport {\r\n  FooterComponent,\r\n  HeaderComponent,\r\n  SharedModule\r\n} from './shared';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { CoreModule } from './core/core.module';\r\nimport { ServiceWorkerModule } from '@angular/service-worker';\r\nimport { environment } from '../environments/environment';\r\n\r\n@NgModule({\r\n  declarations: [AppComponent, FooterComponent, HeaderComponent],\r\n  imports: [\r\n    BrowserModule,\r\n    CoreModule,\r\n    SharedModule,\r\n    HomeModule,\r\n    AuthModule,\r\n    AppRoutingModule,\r\n    ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production })\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthComponent } from './auth.component';\r\nimport { NoAuthGuard } from './no-auth-guard.service';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'login',\r\n    component: AuthComponent,\r\n    canActivate: [NoAuthGuard]\r\n  },\r\n  {\r\n    path: 'register',\r\n    component: AuthComponent,\r\n    canActivate: [NoAuthGuard]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AuthRoutingModule {}\r\n","<div class=\"auth-page\">\r\n  <div class=\"container page\">\r\n    <div class=\"row\">\r\n\r\n      <div class=\"col-md-6 offset-md-3 col-xs-12\">\r\n        <h1 class=\"text-xs-center\">{{ title }}</h1>\r\n        <p class=\"text-xs-center\">\r\n          <a [routerLink]=\"['/login']\" *ngIf=\"authType == 'register'\">Have an account?</a>\r\n          <a [routerLink]=\"['/register']\" *ngIf=\"authType == 'login'\">Need an account?</a>\r\n        </p>\r\n        <app-list-errors [errors]=\"errors\"></app-list-errors>\r\n        <form [formGroup]=\"authForm\" (ngSubmit)=\"submitForm()\">\r\n          <fieldset [disabled]=\"isSubmitting\">\r\n            <fieldset class=\"form-group\">\r\n              <input\r\n                formControlName=\"username\"\r\n                placeholder=\"Username\"\r\n                class=\"form-control form-control-lg\"\r\n                type=\"text\"\r\n                *ngIf=\"authType == 'register'\" />\r\n            </fieldset>\r\n            <fieldset class=\"form-group\">\r\n              <input\r\n                formControlName=\"email\"\r\n                placeholder=\"Email\"\r\n                class=\"form-control form-control-lg\"\r\n                type=\"text\" />\r\n            </fieldset>\r\n            <fieldset class=\"form-group\">\r\n              <input\r\n                formControlName=\"password\"\r\n                placeholder=\"Password\"\r\n                class=\"form-control form-control-lg\"\r\n                type=\"password\" />\r\n            </fieldset>\r\n            <button class=\"btn btn-lg btn-primary pull-xs-right\" [disabled]=\"!authForm.valid\" type=\"submit\">\r\n              {{ title }}\r\n            </button>\r\n          </fieldset>\r\n        </form>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { FormBuilder, FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { Errors, UserService } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-auth-page',\r\n  templateUrl: './auth.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class AuthComponent implements OnInit {\r\n  authType: String = '';\r\n  title: String = '';\r\n  errors: Errors = {errors: {}};\r\n  isSubmitting = false;\r\n  authForm: FormGroup;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private userService: UserService,\r\n    private fb: FormBuilder,\r\n    private cd: ChangeDetectorRef\r\n  ) {\r\n    // use FormBuilder to create a form group\r\n    this.authForm = this.fb.group({\r\n      'email': ['', Validators.required],\r\n      'password': ['', Validators.required]\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.route.url.subscribe(data => {\r\n      // Get the last piece of the URL (it's either 'login' or 'register')\r\n      this.authType = data[data.length - 1].path;\r\n      // Set a title for the page accordingly\r\n      this.title = (this.authType === 'login') ? 'Sign in' : 'Sign up';\r\n      // add form control for username if this is the register page\r\n      if (this.authType === 'register') {\r\n        this.authForm.addControl('username', new FormControl());\r\n      }\r\n      this.cd.markForCheck();\r\n    });\r\n  }\r\n\r\n  submitForm() {\r\n    this.isSubmitting = true;\r\n    this.errors = {errors: {}};\r\n\r\n    const credentials = this.authForm.value;\r\n    this.userService\r\n    .attemptAuth(this.authType, credentials)\r\n    .subscribe(\r\n      data => this.router.navigateByUrl('/'),\r\n      err => {\r\n        this.errors = err;\r\n        this.isSubmitting = false;\r\n        this.cd.markForCheck();\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { AuthComponent } from './auth.component';\r\nimport { NoAuthGuard } from './no-auth-guard.service';\r\nimport { SharedModule } from '../shared';\r\nimport { AuthRoutingModule } from './auth-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    AuthRoutingModule\r\n  ],\r\n  declarations: [\r\n    AuthComponent\r\n  ],\r\n  providers: [\r\n    NoAuthGuard\r\n  ]\r\n})\r\nexport class AuthModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { UserService } from '../core';\r\nimport { map ,  take } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class NoAuthGuard implements CanActivate {\r\n  constructor(\r\n    private router: Router,\r\n    private userService: UserService\r\n  ) {}\r\n\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): Observable<boolean> {\r\n\r\n    return this.userService.isAuthenticated.pipe(take(1), map(isAuth => !isAuth));\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { HttpTokenInterceptor } from './interceptors/http.token.interceptor';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  providers: [\r\n    { provide: HTTP_INTERCEPTORS, useClass: HttpTokenInterceptor, multi: true }\r\n  ],\r\n  declarations: []\r\n})\r\nexport class CoreModule { }\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { JwtService } from '../services';\r\n\r\n@Injectable()\r\nexport class HttpTokenInterceptor implements HttpInterceptor {\r\n  constructor(private jwtService: JwtService) {}\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    const headersConfig = {\r\n      'Content-Type': 'application/json',\r\n      'Accept': 'application/json'\r\n    };\r\n\r\n    const token = this.jwtService.getToken();\r\n\r\n    if (token) {\r\n      headersConfig['Authorization'] = `Token ${token}`;\r\n    }\r\n\r\n    const request = req.clone({ setHeaders: headersConfig });\r\n    return next.handle(request);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { environment } from '../../../environments/environment';\r\nimport { HttpHeaders, HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Observable ,  throwError } from 'rxjs';\r\n\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ApiService {\r\n  constructor(\r\n    private http: HttpClient\r\n  ) {}\r\n\r\n  private formatErrors(error: any) {\r\n    return  throwError(error.error);\r\n  }\r\n\r\n  get(path: string, params: HttpParams = new HttpParams()): Observable<any> {\r\n    return this.http.get(`${environment.api_url}${path}`, { params })\r\n      .pipe(catchError(this.formatErrors));\r\n  }\r\n\r\n  put(path: string, body: Object = {}): Observable<any> {\r\n    return this.http.put(\r\n      `${environment.api_url}${path}`,\r\n      JSON.stringify(body)\r\n    ).pipe(catchError(this.formatErrors));\r\n  }\r\n\r\n  post(path: string, body: Object = {}): Observable<any> {\r\n    return this.http.post(\r\n      `${environment.api_url}${path}`,\r\n      JSON.stringify(body)\r\n    ).pipe(catchError(this.formatErrors));\r\n  }\r\n\r\n  delete(path): Observable<any> {\r\n    return this.http.delete(\r\n      `${environment.api_url}${path}`\r\n    ).pipe(catchError(this.formatErrors));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ApiService } from './api.service';\r\nimport { Article, ArticleListConfig } from '../models';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ArticlesService {\r\n  constructor (\r\n    private apiService: ApiService\r\n  ) {}\r\n\r\n  query(config: ArticleListConfig): Observable<{articles: Article[], articlesCount: number}> {\r\n    // Convert any filters over to Angular's URLSearchParams\r\n    const params = {};\r\n\r\n    Object.keys(config.filters)\r\n    .forEach((key) => {\r\n      params[key] = config.filters[key];\r\n    });\r\n\r\n    return this.apiService\r\n    .get(\r\n      '/articles' + ((config.type === 'feed') ? '/feed' : ''),\r\n      new HttpParams({ fromObject: params })\r\n    );\r\n  }\r\n\r\n  get(slug): Observable<Article> {\r\n    return this.apiService.get('/articles/' + slug)\r\n      .pipe(map(data => data.article));\r\n  }\r\n\r\n  destroy(slug) {\r\n    return this.apiService.delete('/articles/' + slug);\r\n  }\r\n\r\n  save(article): Observable<Article> {\r\n    // If we're updating an existing article\r\n    if (article.slug) {\r\n      return this.apiService.put('/articles/' + article.slug, {article: article})\r\n        .pipe(map(data => data.article));\r\n\r\n    // Otherwise, create a new article\r\n    } else {\r\n      return this.apiService.post('/articles/', {article: article})\r\n        .pipe(map(data => data.article));\r\n    }\r\n  }\r\n\r\n  favorite(slug): Observable<Article> {\r\n    return this.apiService.post('/articles/' + slug + '/favorite');\r\n  }\r\n\r\n  unfavorite(slug): Observable<Article> {\r\n    return this.apiService.delete('/articles/' + slug + '/favorite');\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { UserService } from './user.service';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n  constructor(\r\n    private router: Router,\r\n    private userService: UserService\r\n  ) {}\r\n\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): Observable<boolean> {\r\n\r\n    return this.userService.isAuthenticated.pipe(take(1));\r\n\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ApiService } from './api.service';\r\nimport { Comment } from '../models';\r\nimport { map } from 'rxjs/operators';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CommentsService {\r\n  constructor (\r\n    private apiService: ApiService\r\n  ) {}\r\n\r\n  add(slug, payload): Observable<Comment> {\r\n    return this.apiService\r\n    .post(\r\n      `/articles/${slug}/comments`,\r\n      { comment: { body: payload } }\r\n    ).pipe(map(data => data.comment));\r\n  }\r\n\r\n  getAll(slug): Observable<Comment[]> {\r\n    return this.apiService.get(`/articles/${slug}/comments`)\r\n      .pipe(map(data => data.comments));\r\n  }\r\n\r\n  destroy(commentId, articleSlug) {\r\n    return this.apiService\r\n           .delete(`/articles/${articleSlug}/comments/${commentId}`);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class JwtService {\r\n\r\n  getToken(): String {\r\n    return window.localStorage['jwtToken'];\r\n  }\r\n\r\n  saveToken(token: String) {\r\n    window.localStorage['jwtToken'] = token;\r\n  }\r\n\r\n  destroyToken() {\r\n    window.localStorage.removeItem('jwtToken');\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ApiService } from './api.service';\r\nimport { Profile } from '../models';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProfilesService {\r\n  constructor (\r\n    private apiService: ApiService\r\n  ) {}\r\n\r\n  get(username: string): Observable<Profile> {\r\n    return this.apiService.get('/profiles/' + username)\r\n      .pipe(map((data: {profile: Profile}) => data.profile));\r\n  }\r\n\r\n  follow(username: string): Observable<Profile> {\r\n    return this.apiService.post('/profiles/' + username + '/follow');\r\n  }\r\n\r\n  unfollow(username: string): Observable<Profile> {\r\n    return this.apiService.delete('/profiles/' + username + '/follow');\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ApiService } from './api.service';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TagsService {\r\n  constructor (\r\n    private apiService: ApiService\r\n  ) {}\r\n\r\n  getAll(): Observable<[string]> {\r\n    return this.apiService.get('/tags')\r\n          .pipe(map(data => data.tags));\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable ,  BehaviorSubject ,  ReplaySubject } from 'rxjs';\r\n\r\nimport { ApiService } from './api.service';\r\nimport { JwtService } from './jwt.service';\r\nimport { User } from '../models';\r\nimport { map ,  distinctUntilChanged } from 'rxjs/operators';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n  private currentUserSubject = new BehaviorSubject<User>({} as User);\r\n  public currentUser = this.currentUserSubject.asObservable().pipe(distinctUntilChanged());\r\n\r\n  private isAuthenticatedSubject = new ReplaySubject<boolean>(1);\r\n  public isAuthenticated = this.isAuthenticatedSubject.asObservable();\r\n\r\n  constructor (\r\n    private apiService: ApiService,\r\n    private jwtService: JwtService\r\n  ) {}\r\n\r\n  // Verify JWT in localstorage with server & load user's info.\r\n  // This runs once on application startup.\r\n  populate() {\r\n    // If JWT detected, attempt to get & store user's info\r\n    if (this.jwtService.getToken()) {\r\n      this.apiService.get('/user')\r\n      .subscribe(\r\n        data => this.setAuth(data.user),\r\n        err => this.purgeAuth()\r\n      );\r\n    } else {\r\n      // Remove any potential remnants of previous auth states\r\n      this.purgeAuth();\r\n    }\r\n  }\r\n\r\n  setAuth(user: User) {\r\n    // Save JWT sent from server in localstorage\r\n    this.jwtService.saveToken(user.token);\r\n    // Set current user data into observable\r\n    this.currentUserSubject.next(user);\r\n    // Set isAuthenticated to true\r\n    this.isAuthenticatedSubject.next(true);\r\n  }\r\n\r\n  purgeAuth() {\r\n    // Remove JWT from localstorage\r\n    this.jwtService.destroyToken();\r\n    // Set current user to an empty object\r\n    this.currentUserSubject.next({} as User);\r\n    // Set auth status to false\r\n    this.isAuthenticatedSubject.next(false);\r\n  }\r\n\r\n  attemptAuth(type, credentials): Observable<User> {\r\n    const route = (type === 'login') ? '/login' : '';\r\n    return this.apiService.post(`/users${route}`, {user: credentials})\r\n      .pipe(map(\r\n      data => {\r\n        this.setAuth(data.user);\r\n        return data;\r\n      }\r\n    ));\r\n  }\r\n\r\n  getCurrentUser(): User {\r\n    return this.currentUserSubject.value;\r\n  }\r\n\r\n  // Update the user on the server (email, pass, etc)\r\n  update(user): Observable<User> {\r\n    return this.apiService\r\n    .put('/user', { user })\r\n    .pipe(map(data => {\r\n      // Update the currentUser observable\r\n      this.currentUserSubject.next(data.user);\r\n      return data.user;\r\n    }));\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Resolve, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { UserService } from '../core';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HomeAuthResolver implements Resolve<boolean> {\r\n  constructor(\r\n    private router: Router,\r\n    private userService: UserService\r\n  ) {}\r\n\r\n  resolve(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): Observable<boolean> {\r\n\r\n    return this.userService.isAuthenticated.pipe(take(1));\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { HomeComponent } from './home.component';\r\nimport { HomeAuthResolver } from './home-auth-resolver.service';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HomeComponent,\r\n    resolve: {\r\n      isAuthenticated: HomeAuthResolver\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class HomeRoutingModule {}\r\n","<div class=\"home-page\">\r\n\r\n  <div class=\"banner\" *appShowAuthed=\"false\">\r\n    <div class=\"container\">\r\n      <h1 class=\"logo-font\">conduit</h1>\r\n      <p>A place to share your <i>Angular</i> knowledge.</p>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"container page\">\r\n    <div class=\"row\">\r\n\r\n      <div class=\"col-md-9\">\r\n        <div class=\"feed-toggle\">\r\n          <ul class=\"nav nav-pills outline-active\">\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\"\r\n                 [ngClass]=\"{'active': listConfig.type === 'feed'}\"\r\n                 (click)=\"setListTo('feed')\">\r\n                 Your Feed\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\"\r\n                 [ngClass]=\"{'active': listConfig.type === 'all' && !listConfig.filters.tag}\"\r\n                 (click)=\"setListTo('all')\">\r\n                 Global Feed\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\" [hidden]=\"!listConfig.filters.tag\">\r\n              <a class=\"nav-link active\">\r\n                <i class=\"ion-pound\"></i> {{ listConfig.filters.tag }}\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <app-article-list [limit]=\"10\" [config]=\"listConfig\"></app-article-list>\r\n      </div>\r\n\r\n      <div class=\"col-md-3\">\r\n        <div class=\"sidebar\">\r\n          <p>Popular Tags</p>\r\n\r\n          <div class=\"tag-list\">\r\n            <a *ngFor=\"let tag of tags; trackBy: trackByFn\"\r\n               (click)=\"setListTo('all', {tag: tag})\"\r\n               class=\"tag-default tag-pill\">\r\n               {{ tag }}\r\n            </a>\r\n          </div>\r\n\r\n          <div [hidden]=\"tagsLoaded\">\r\n            Loading tags...\r\n          </div>\r\n\r\n          <div [hidden]=\"!tagsLoaded || tags.length > 0\">\r\n            No tags are here... yet.\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { ArticleListConfig, TagsService, UserService } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-home-page',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  constructor(\r\n    private router: Router,\r\n    private tagsService: TagsService,\r\n    private userService: UserService,\r\n    private cd: ChangeDetectorRef\r\n  ) {}\r\n\r\n  isAuthenticated: boolean;\r\n  listConfig: ArticleListConfig = {\r\n    type: 'all',\r\n    filters: {}\r\n  };\r\n  tags: Array<string> = [];\r\n  tagsLoaded = false;\r\n\r\n  ngOnInit() {\r\n    this.userService.isAuthenticated.subscribe(\r\n      (authenticated) => {\r\n        this.isAuthenticated = authenticated;\r\n\r\n        // set the article list accordingly\r\n        if (authenticated) {\r\n          this.setListTo('feed');\r\n        } else {\r\n          this.setListTo('all');\r\n        }\r\n        this.cd.markForCheck();\r\n      }\r\n    );\r\n\r\n    this.tagsService.getAll()\r\n    .subscribe(tags => {\r\n      this.tags = tags;\r\n      this.tagsLoaded = true;\r\n      this.cd.markForCheck();\r\n    });\r\n  }\r\n\r\n  trackByFn(index, item) {\r\n    return index;\r\n  }\r\n\r\n  setListTo(type: string = '', filters: Object = {}) {\r\n    // If feed is requested but user is not authenticated, redirect to login\r\n    if (type === 'feed' && !this.isAuthenticated) {\r\n      this.router.navigateByUrl('/login');\r\n      return;\r\n    }\r\n\r\n    // Otherwise, set the list object\r\n    this.listConfig = {type: type, filters: filters};\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { HomeComponent } from './home.component';\r\nimport { SharedModule } from '../shared';\r\nimport { HomeRoutingModule } from './home-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    HomeRoutingModule\r\n  ],\r\n  declarations: [\r\n    HomeComponent\r\n  ],\r\n  providers: [\r\n  ]\r\n})\r\nexport class HomeModule {}\r\n","<app-article-preview\r\n  *ngFor=\"let article of results; trackBy: trackByFn\"\r\n  [article]=\"article\">\r\n</app-article-preview>\r\n\r\n<div class=\"app-article-preview\"\r\n  [hidden]=\"!loading\">\r\n  Loading articles...\r\n</div>\r\n\r\n<div class=\"app-article-preview\"\r\n  [hidden]=\"loading || results.length\">\r\n  No articles are here... yet.\r\n</div>\r\n\r\n<nav [hidden]=\"loading || totalPages.length <= 1\">\r\n  <ul class=\"pagination\">\r\n\r\n    <li class=\"page-item\"\r\n      [ngClass]=\"{'active': pageNumber === currentPage}\"\r\n      *ngFor=\"let pageNumber of totalPages; trackBy: trackByFn\"\r\n      (click)=\"setPageTo(pageNumber)\">\r\n\r\n      <a class=\"page-link\" >{{ pageNumber }}</a>\r\n\r\n    </li>\r\n\r\n  </ul>\r\n</nav>\r\n","import { Component, Input, ChangeDetectorRef, ChangeDetectionStrategy } from '@angular/core';\r\n\r\nimport { Article, ArticleListConfig, ArticlesService } from '../../core';\r\n@Component({\r\n  selector: 'app-article-list',\r\n  styleUrls: ['article-list.component.css'],\r\n  templateUrl: './article-list.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ArticleListComponent {\r\n  constructor (\r\n    private articlesService: ArticlesService,\r\n    private cd: ChangeDetectorRef\r\n  ) {}\r\n\r\n  @Input() limit: number;\r\n  @Input()\r\n  set config(config: ArticleListConfig) {\r\n    if (config) {\r\n      this.query = config;\r\n      this.currentPage = 1;\r\n      this.runQuery();\r\n    }\r\n  }\r\n\r\n  query: ArticleListConfig;\r\n  results: Article[];\r\n  loading = false;\r\n  currentPage = 1;\r\n  totalPages: Array<number> = [1];\r\n\r\n  setPageTo(pageNumber) {\r\n    this.currentPage = pageNumber;\r\n    this.runQuery();\r\n  }\r\n\r\n  trackByFn(index, item) {\r\n    return index;\r\n  }\r\n\r\n  runQuery() {\r\n    this.loading = true;\r\n    this.results = [];\r\n\r\n    // Create limit and offset filter (if necessary)\r\n    if (this.limit) {\r\n      this.query.filters.limit = this.limit;\r\n      this.query.filters.offset =  (this.limit * (this.currentPage - 1));\r\n    }\r\n\r\n    this.articlesService.query(this.query)\r\n    .subscribe(data => {\r\n      this.loading = false;\r\n      this.results = data.articles;\r\n\r\n      // Used from http://www.jstips.co/en/create-range-0...n-easily-using-one-line/\r\n      this.totalPages = Array.from(new Array(Math.ceil(data.articlesCount / this.limit)), (val, index) => index + 1);\r\n      this.cd.markForCheck();\r\n    });\r\n  }\r\n}\r\n","import { Component, Input, ChangeDetectionStrategy } from '@angular/core';\r\n\r\nimport { Article } from '../../core';\r\n\r\n@Component({\r\n  selector: 'app-article-meta',\r\n  templateUrl: './article-meta.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ArticleMetaComponent {\r\n  @Input() article: Article;\r\n}\r\n","<div class=\"article-meta\">\r\n  <a [routerLink]=\"['/profile', article.author.username]\">\r\n    <img [src]=\"article.author.image || 'https://static.productionready.io/images/smiley-cyrus.jpg'\" alt=\"author image\" />\r\n  </a>\r\n\r\n  <div class=\"info\">\r\n    <a class=\"author\"\r\n      [routerLink]=\"['/profile', article.author.username]\">\r\n      {{ article.author.username }}\r\n    </a>\r\n    <span class=\"date\">\r\n      {{ article.createdAt | date: 'longDate' }}\r\n    </span>\r\n  </div>\r\n\r\n  <ng-content></ng-content>\r\n</div>\r\n","<div class=\"article-preview\">\r\n  <app-article-meta [article]=\"article\">\r\n    <app-favorite-button\r\n      [article]=\"article\"\r\n      (toggle)=\"onToggleFavorite($event)\"\r\n      class=\"pull-xs-right\">\r\n      {{article.favoritesCount}}\r\n    </app-favorite-button>\r\n  </app-article-meta>\r\n\r\n  <a [routerLink]=\"['/article', article.slug]\" class=\"preview-link\">\r\n    <h1>{{ article.title }}</h1>\r\n    <p>{{ article.description }}</p>\r\n    <span>Read more...</span>\r\n    <ul class=\"tag-list\">\r\n      <li class=\"tag-default tag-pill tag-outline\"\r\n        *ngFor=\"let tag of article.tagList; trackBy: trackByFn\">\r\n        {{ tag }}\r\n      </li>\r\n    </ul>\r\n  </a>\r\n</div>\r\n","import { Component, Input, ChangeDetectionStrategy } from '@angular/core';\r\n\r\nimport { Article } from '../../core';\r\n\r\n@Component({\r\n  selector: 'app-article-preview',\r\n  templateUrl: './article-preview.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ArticlePreviewComponent {\r\n  @Input() article: Article;\r\n\r\n  trackByFn(index, item) {\r\n    return index;\r\n  }\r\n\r\n  onToggleFavorite(favorited: boolean) {\r\n    this.article['favorited'] = favorited;\r\n\r\n    if (favorited) {\r\n      this.article['favoritesCount']++;\r\n    } else {\r\n      this.article['favoritesCount']--;\r\n    }\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, Output, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { Article, ArticlesService, UserService } from '../../core';\r\nimport { of } from 'rxjs';\r\nimport { concatMap ,  tap } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-favorite-button',\r\n  templateUrl: './favorite-button.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FavoriteButtonComponent {\r\n  constructor(\r\n    private articlesService: ArticlesService,\r\n    private router: Router,\r\n    private userService: UserService,\r\n    private cd: ChangeDetectorRef\r\n  ) {}\r\n\r\n  @Input() article: Article;\r\n  @Output() toggle = new EventEmitter<boolean>();\r\n  isSubmitting = false;\r\n\r\n  toggleFavorite() {\r\n    this.isSubmitting = true;\r\n\r\n    this.userService.isAuthenticated.pipe(concatMap(\r\n      (authenticated) => {\r\n        // Not authenticated? Push to login screen\r\n        if (!authenticated) {\r\n          this.router.navigateByUrl('/login');\r\n          return of(null);\r\n        }\r\n\r\n        // Favorite the article if it isn't favorited yet\r\n        if (!this.article.favorited) {\r\n          return this.articlesService.favorite(this.article.slug)\r\n          .pipe(tap(\r\n            data => {\r\n              this.isSubmitting = false;\r\n              this.toggle.emit(true);\r\n            },\r\n            err => this.isSubmitting = false\r\n          ));\r\n\r\n        // Otherwise, unfavorite the article\r\n        } else {\r\n          return this.articlesService.unfavorite(this.article.slug)\r\n          .pipe(tap(\r\n            data => {\r\n              this.isSubmitting = false;\r\n              this.toggle.emit(false);\r\n            },\r\n            err => this.isSubmitting = false\r\n          ));\r\n        }\r\n\r\n      }\r\n    )).subscribe(() => {\r\n      this.cd.markForCheck();\r\n    });\r\n  }\r\n}\r\n","<button class=\"btn btn-sm\"\r\n [ngClass]=\"{ 'disabled' : isSubmitting,\r\n              'btn-outline-primary': !article.favorited,\r\n              'btn-primary': article.favorited }\"\r\n (click)=\"toggleFavorite()\">\r\n  <i class=\"ion-heart\"></i> <ng-content></ng-content>\r\n</button>\r\n","import { Component, EventEmitter, Input, Output, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { Profile, ProfilesService, UserService } from '../../core';\r\nimport { concatMap ,  tap } from 'rxjs/operators';\r\nimport { of } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-follow-button',\r\n  templateUrl: './follow-button.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FollowButtonComponent {\r\n  constructor(\r\n    private profilesService: ProfilesService,\r\n    private router: Router,\r\n    private userService: UserService,\r\n    private cd: ChangeDetectorRef\r\n  ) {}\r\n\r\n  @Input() profile: Profile;\r\n  @Output() toggle = new EventEmitter<boolean>();\r\n  isSubmitting = false;\r\n\r\n  toggleFollowing() {\r\n    this.isSubmitting = true;\r\n    // TODO: remove nested subscribes, use mergeMap\r\n\r\n    this.userService.isAuthenticated.pipe(concatMap(\r\n      (authenticated) => {\r\n        // Not authenticated? Push to login screen\r\n        if (!authenticated) {\r\n          this.router.navigateByUrl('/login');\r\n          return of(null);\r\n        }\r\n\r\n        // Follow this profile if we aren't already\r\n        if (!this.profile.following) {\r\n          return this.profilesService.follow(this.profile.username)\r\n          .pipe(tap(\r\n            data => {\r\n              this.isSubmitting = false;\r\n              this.toggle.emit(true);\r\n            },\r\n            err => this.isSubmitting = false\r\n          ));\r\n\r\n        // Otherwise, unfollow this profile\r\n        } else {\r\n          return this.profilesService.unfollow(this.profile.username)\r\n          .pipe(tap(\r\n            data => {\r\n              this.isSubmitting = false;\r\n              this.toggle.emit(false);\r\n            },\r\n            err => this.isSubmitting = false\r\n          ));\r\n        }\r\n      }\r\n    )).subscribe(() => {\r\n      this.cd.markForCheck();\r\n    });\r\n  }\r\n}\r\n","<button\r\n  class=\"btn btn-sm action-btn\"\r\n  [ngClass]=\"{ 'disabled': isSubmitting,\r\n               'btn-outline-secondary': !profile.following,\r\n               'btn-secondary': profile.following }\"\r\n  (click)=\"toggleFollowing()\">\r\n  <i class=\"ion-plus-round\"></i>\r\n  &nbsp;\r\n  {{ profile.following ? 'Unfollow' : 'Follow' }} {{ profile.username }}\r\n</button>\r\n","import { Component, ChangeDetectionStrategy } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-layout-footer',\r\n  templateUrl: './footer.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FooterComponent {\r\n  today: number = Date.now();\r\n}\r\n","<footer>\r\n  <div class=\"container\">\r\n    <a class=\"logo-font\" routerLink=\"/\">conduit</a>\r\n    <span class=\"attribution\">\r\n      &copy; {{ today | date: 'yyyy' }}.\r\n      An interactive learning project from <a href=\"https://thinkster.io\">Thinkster</a>.\r\n      Code licensed under MIT.\r\n    </span>\r\n  </div>\r\n</footer>\r\n","<nav class=\"navbar navbar-light\">\r\n  <div class=\"container\">\r\n    <a class=\"navbar-brand\" routerLink=\"/\">conduit</a>\r\n\r\n    <!-- Show this for logged out users -->\r\n    <ul *appShowAuthed=\"false\"\r\n      class=\"nav navbar-nav pull-xs-right\">\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/\">\r\n          Home\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/login\"\r\n          routerLinkActive=\"active\">\r\n          Sign in\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/register\"\r\n          routerLinkActive=\"active\">\r\n          Sign up\r\n        </a>\r\n      </li>\r\n\r\n    </ul>\r\n\r\n    <!-- Show this for logged in users -->\r\n    <ul *appShowAuthed=\"true\"\r\n      class=\"nav navbar-nav pull-xs-right\">\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/\"\r\n          routerLinkActive=\"active\"\r\n          [routerLinkActiveOptions]=\"{ exact: true }\">\r\n          Home\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/editor\"\r\n          routerLinkActive=\"active\">\r\n          <i class=\"ion-compose\"></i>&nbsp;New Article\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/settings\"\r\n          routerLinkActive=\"active\">\r\n          <i class=\"ion-gear-a\"></i>&nbsp;Settings\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          [routerLink]=\"['/profile', currentUser.username]\"\r\n          routerLinkActive=\"active\">\r\n          <img [src]=\"currentUser.image || 'https://static.productionready.io/images/smiley-cyrus.jpg'\" *ngIf=\"currentUser.image\" class=\"user-pic\" alt=\"user image\" />\r\n          {{ currentUser.username }}\r\n        </a>\r\n      </li>\r\n\r\n    </ul>\r\n\r\n  </div>\r\n</nav>\r\n","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\n\r\nimport { User, UserService } from '../../core';\r\n\r\n@Component({\r\n  selector: 'app-layout-header',\r\n  templateUrl: './header.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class HeaderComponent implements OnInit {\r\n  constructor(\r\n    private userService: UserService,\r\n    private cd: ChangeDetectorRef\r\n  ) {}\r\n\r\n  currentUser: User;\r\n\r\n  ngOnInit() {\r\n    this.userService.currentUser.subscribe(\r\n      (userData) => {\r\n        this.currentUser = userData;\r\n        this.cd.markForCheck();\r\n      }\r\n    );\r\n  }\r\n}\r\n","<ul class=\"error-messages\" *ngIf=\"errorList\">\r\n  <li *ngFor=\"let error of errorList; trackBy: trackByFn\">\r\n    {{ error }}\r\n  </li>\r\n</ul>\r\n","import { Component, Input, ChangeDetectionStrategy } from '@angular/core';\r\n\r\nimport { Errors } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-list-errors',\r\n  templateUrl: './list-errors.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ListErrorsComponent {\r\n  formattedErrors: Array<string> = [];\r\n\r\n  @Input()\r\n  set errors(errorList: Errors) {\r\n    this.formattedErrors = Object.keys(errorList.errors || {})\r\n      .map(key => `${key} ${errorList.errors[key]}`);\r\n  }\r\n\r\n  get errorList() { return this.formattedErrors; }\r\n\r\n  trackByFn(index, item) {\r\n    return index;\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { ArticleListComponent, ArticleMetaComponent, ArticlePreviewComponent } from './article-helpers';\r\nimport { FavoriteButtonComponent, FollowButtonComponent } from './buttons';\r\nimport { ListErrorsComponent } from './list-errors.component';\r\nimport { ShowAuthedDirective } from './show-authed.directive';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule,\r\n    RouterModule\r\n  ],\r\n  declarations: [\r\n    ArticleListComponent,\r\n    ArticleMetaComponent,\r\n    ArticlePreviewComponent,\r\n    FavoriteButtonComponent,\r\n    FollowButtonComponent,\r\n    ListErrorsComponent,\r\n    ShowAuthedDirective\r\n  ],\r\n  exports: [\r\n    ArticleListComponent,\r\n    ArticleMetaComponent,\r\n    ArticlePreviewComponent,\r\n    CommonModule,\r\n    FavoriteButtonComponent,\r\n    FollowButtonComponent,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule,\r\n    ListErrorsComponent,\r\n    RouterModule,\r\n    ShowAuthedDirective\r\n  ]\r\n})\r\nexport class SharedModule {}\r\n","import {\r\n  Directive,\r\n  Input,\r\n  OnInit,\r\n  TemplateRef,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { UserService } from '../core';\r\n\r\n@Directive({ selector: '[appShowAuthed]' })\r\nexport class ShowAuthedDirective implements OnInit {\r\n  constructor(\r\n    private templateRef: TemplateRef<any>,\r\n    private userService: UserService,\r\n    private viewContainer: ViewContainerRef\r\n  ) {}\r\n\r\n  condition: boolean;\r\n\r\n  ngOnInit() {\r\n    this.userService.isAuthenticated.subscribe(\r\n      (isAuthenticated) => {\r\n        if (isAuthenticated && this.condition || !isAuthenticated && !this.condition) {\r\n          this.viewContainer.createEmbeddedView(this.templateRef);\r\n        } else {\r\n          this.viewContainer.clear();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  @Input() set appShowAuthed(condition: boolean) {\r\n    this.condition = condition;\r\n  }\r\n\r\n}\r\n","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  api_url: 'localhost:3000/api'\r\n};\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nconst bootstrapPromise =  platformBrowserDynamic().bootstrapModule(AppModule);\r\n\r\n// Logging bootstrap information\r\nbootstrapPromise.then(success => console.log(`Bootstrap success`))\r\n  .catch(err => console.error(err));\r\n"]}